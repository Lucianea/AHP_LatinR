<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>AHP Implementada em R</title>
    <meta charset="utf-8" />
    <meta name="author" content="Luciane Alcoforado, Orlando Longo,  Lyncoln Sousa, Steven Ross,   Alessandra Simão" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# AHP Implementada em R
## LatiR-2019
### Luciane Alcoforado, Orlando Longo,<br> Lyncoln Sousa, Steven Ross, <br> Alessandra Simão
### Universidade Federal Fluminense

---


&lt;style type="text/css"&gt;
body, td {
   font-size: 14px;
}
code.r{
  font-size: 20px;
}
pre {
  font-size: 20px
}
.remark-slide-content {
  font-size: 28px;
  padding: 20px 80px 20px 80px;
}
.remark-code, .remark-inline-code {
  background: #000000;
}
.remark-code {
  font-size: 16px;
}

&lt;/style&gt;




---
class: center, middle

# Tomar una decisión, establecer una meta

### Comprar un automóvil
### Elige un programa
### Elige un lugar de vacaciones

---
class: inverse, center, middle

#  ¿Cuales son las alternativas?

---

# Método Utilizado para tomar una decisión

**AHP** (Analytic Hierarchy Process) fue creado por Saaty en 1970


--

se divide en tres pasos:

- construcción de niveles jerárquicos;
- Establecimiento de prioridades mediante juicios iguales de los criterios 
establecido ;
- evaluación de la coherencia lógica de los juicios de paridad.



--




---
#Instalación de paquete


```r
#install.packages("devtools")
#devtools::install_github("Lyncoln/AHP2")

library(AHP)
```


---

#Bases de datos ejemplos : BD1, BD2, BD3, BD4
##Jerarquía BD1
###Tres Alternativas: A, B e C (modelos de autos)

![](figuras//carros.png)




---
#Cálculo del grado de consistencia: CR()


```r
lapply(BD1, function(x) CR(x))
```

```
## $`Comprar um carro`
## [1] 0.07091014
## 
## $CF
## [1] 4.270089e-16
## 
## $AQ
## [1] 0.05155921
## 
## $PS
## [1] 0.05155921
## 
## $RV
## [1] 0.008848762
## 
## $MA
## [1] 0.03702989
```


---

#Cálculo de peso matricial: calcula_prioridades()


```r
calcula_prioridades(BD1)
```

```
## $`Comprar um carro`
## [1] 0.08627388 0.44979358 0.05881037 0.21879372 0.18632845
## 
## $CF
## [1] 0.1 0.3 0.6
## 
## $AQ
## [1] 0.1958004 0.4933860 0.3108137
## 
## $PS
## [1] 0.4125989 0.3274800 0.2599210
## 
## $RV
## [1] 0.5396146 0.2969613 0.1634241
## 
## $MA
## [1] 0.6369856 0.1047294 0.2582850
```


---
#Aplique ahp a una lista de matriz con formato adecuado o archivo de Excel: ahp_geral()


```r
tabela = ahp_geral(BD1) # No tiene subcriterios
```
**ahp_geral(base, mapeamento = "PADRÃO", nomes_alternativas = "PADRÃO")**


---
#Clasifique las alternativas de una tabla ahp: ranque()


```r
ranque(tabela)
```

```
## # A tibble: 3 x 3
##   Ranque Alternativas Pesos
##    &lt;int&gt; &lt;chr&gt;        &lt;dbl&gt;
## 1      1 A            0.358
## 2      2 B            0.352
## 3      3 C            0.291
```


---
#Formatea la tabla de resultados para la exportación: formata_tabela()


```r
formata_tabela(tabela)
```


&lt;table class="table table-condensed"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Criterios &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Pesos &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; A &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; B &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; C &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; CR &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;---Comprar um carro&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span&gt;100%  &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="font-weight: bold; font-size: 130%"&gt;35.77%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span&gt;35.16%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span&gt;29.07%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #B0FFD5; border-radius: 4px; color: black; display: block"&gt;7.09%&lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;--CF               &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #d6f3e3; border-radius: 4px; color: black; display: block"&gt;8.63% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #b6d4ff; border-radius: 4px; color: black; display: block"&gt;0.86% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #a7cafb; border-radius: 4px; color: black; display: block"&gt;2.59% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #91bcf6; border-radius: 4px; color: black; display: block"&gt;5.18% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #B0FFD5; border-radius: 4px; color: black; display: block"&gt;0%   &lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;--AQ               &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #71ca97; border-radius: 4px; color: black; display: block"&gt;44.98%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #72a8ee; border-radius: 4px; color: black; display: block"&gt;8.81% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #0060d3; border-radius: 4px; color: black; display: block"&gt;22.19%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #468ce3; border-radius: 4px; color: black; display: block"&gt;13.98%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #B0FFD5; border-radius: 4px; color: black; display: block"&gt;5.16%&lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;--PS               &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #def7e9; border-radius: 4px; color: black; display: block"&gt;5.88% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #a8cbfb; border-radius: 4px; color: black; display: block"&gt;2.43% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #accefc; border-radius: 4px; color: black; display: block"&gt;1.93% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #b0d0fd; border-radius: 4px; color: black; display: block"&gt;1.53% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #B0FFD5; border-radius: 4px; color: black; display: block"&gt;5.16%&lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;--RV               &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #b1e4c7; border-radius: 4px; color: black; display: block"&gt;21.88%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #5898e8; border-radius: 4px; color: black; display: block"&gt;11.81%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #85b5f3; border-radius: 4px; color: black; display: block"&gt;6.5%  &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9ec5f9; border-radius: 4px; color: black; display: block"&gt;3.58% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #B0FFD5; border-radius: 4px; color: black; display: block"&gt;0.88%&lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;--MA               &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #bae8ce; border-radius: 4px; color: black; display: block"&gt;18.63%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #5898e8; border-radius: 4px; color: black; display: block"&gt;11.87%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #accefc; border-radius: 4px; color: black; display: block"&gt;1.95% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #94bef6; border-radius: 4px; color: black; display: block"&gt;4.81% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #B0FFD5; border-radius: 4px; color: black; display: block"&gt;3.7% &lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;



---


```r
formata_tabela(tabela, cores = "BRANCO")
```


&lt;table class="table table-condensed"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Criterios &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Pesos &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; A &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; B &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; C &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; CR &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;---Comprar um carro&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span&gt;100%  &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="font-weight: bold; font-size: 130%"&gt;35.77%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span&gt;35.16%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span&gt;29.07%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;7.09%&lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;--CF               &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;8.63% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;0.86% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;2.59% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;5.18% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;0%   &lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;--AQ               &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;44.98%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;8.81% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;22.19%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;13.98%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;5.16%&lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;--PS               &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;5.88% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;2.43% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;1.93% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;1.53% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;5.16%&lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;--RV               &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;21.88%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;11.81%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;6.5%  &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;3.58% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;0.88%&lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;--MA               &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;18.63%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;11.87%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;1.95% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;4.81% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #ffffff; border-radius: 4px; color: black; display: block"&gt;3.7% &lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---


```r
formata_tabela(tabela, cores = "CINZA")
```


&lt;table class="table table-condensed"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Criterios &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Pesos &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; A &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; B &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; C &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; CR &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;---Comprar um carro&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span&gt;100%  &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="font-weight: bold; font-size: 130%"&gt;35.77%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span&gt;35.16%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span&gt;29.07%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9e9e9e; border-radius: 4px; color: white; display: block"&gt;7.09%&lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;--CF               &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #989898; border-radius: 4px; color: white; display: block"&gt;8.63% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9e9e9e; border-radius: 4px; color: white; display: block"&gt;0.86% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #979797; border-radius: 4px; color: white; display: block"&gt;2.59% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #8e8e8e; border-radius: 4px; color: white; display: block"&gt;5.18% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9e9e9e; border-radius: 4px; color: white; display: block"&gt;0%   &lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;--AQ               &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #4f4f4f; border-radius: 4px; color: white; display: block"&gt;44.98%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #808080; border-radius: 4px; color: white; display: block"&gt;8.81% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #4f4f4f; border-radius: 4px; color: white; display: block"&gt;22.19%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #6d6d6d; border-radius: 4px; color: white; display: block"&gt;13.98%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9e9e9e; border-radius: 4px; color: white; display: block"&gt;5.16%&lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;--PS               &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9e9e9e; border-radius: 4px; color: white; display: block"&gt;5.88% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #989898; border-radius: 4px; color: white; display: block"&gt;2.43% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9a9a9a; border-radius: 4px; color: white; display: block"&gt;1.93% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9b9b9b; border-radius: 4px; color: white; display: block"&gt;1.53% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9e9e9e; border-radius: 4px; color: white; display: block"&gt;5.16%&lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;--RV               &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #7d7d7d; border-radius: 4px; color: white; display: block"&gt;21.88%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #757575; border-radius: 4px; color: white; display: block"&gt;11.81%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #898989; border-radius: 4px; color: white; display: block"&gt;6.5%  &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #939393; border-radius: 4px; color: white; display: block"&gt;3.58% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9e9e9e; border-radius: 4px; color: white; display: block"&gt;0.88%&lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;--MA               &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #848484; border-radius: 4px; color: white; display: block"&gt;18.63%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #757575; border-radius: 4px; color: white; display: block"&gt;11.87%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #999999; border-radius: 4px; color: white; display: block"&gt;1.95% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #8f8f8f; border-radius: 4px; color: white; display: block"&gt;4.81% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9e9e9e; border-radius: 4px; color: white; display: block"&gt;3.7% &lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;


---
#Crea matrices emparejadas y pruebe su consistencia: matrizJulgamento()

![](figuras//julgamento.png)
**matriz_julgamento(qtd_comparacoes, CR = TRUE, qtd_matrizes = 1)**
---

#Lectura de datos: ler()


```r
base&lt;- 
  ler("tabelaLR.xlsx")
length(base)
```

```
## [1] 6
```

```r
base[1:2]
```

```
## $`Elige un programa`
## # A tibble: 2 x 2
##    ...1  ...2
##   &lt;dbl&gt; &lt;dbl&gt;
## 1 1       1.5
## 2 0.667   1  
## 
## $Rendimiento
## # A tibble: 4 x 4
##    ...1  ...2  ...3  ...4
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 1     1       1.5   2  
## 2 1     1       1.7   1.9
## 3 0.667 0.588   1     0.5
## 4 0.5   0.526   2     1
```
---

#Jerarquía

![](figuras//rplot.png)

---
#Organización de datos


![](figuras//excel.png)

---


```r
tabela2 = ahp_geral(base, mapeamento = c(0,3),
                   c("R","Python","C++","Java")); tabela
```

```
## # A tibble: 6 x 6
##   Criterios            Pesos       A      B      C       CR
##   &lt;chr&gt;                &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;
## 1 ---Comprar um carro 1      0.358   0.352  0.291  7.09e- 2
## 2 --CF                0.0863 0.00863 0.0259 0.0518 4.27e-16
## 3 --AQ                0.450  0.0881  0.222  0.140  5.16e- 2
## 4 --PS                0.0588 0.0243  0.0193 0.0153 5.16e- 2
## 5 --RV                0.219  0.118   0.0650 0.0358 8.85e- 3
## 6 --MA                0.186  0.119   0.0195 0.0481 3.70e- 2
```


---
#Tabela formatada:

```r
formata_tabela(tabela2, cores = "CINZA")
```


&lt;table class="table table-condensed"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Criterios &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Pesos &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; R &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Python &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; C++ &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Java &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; CR &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;---Elige un programa&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span&gt;100%  &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="font-weight: bold; font-size: 130%"&gt;40.14%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span&gt;27.25%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span&gt;13.96%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span&gt;18.64%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9e9e9e; border-radius: 4px; color: white; display: block"&gt;0%   &lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;--Rendimiento       &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #4f4f4f; border-radius: 4px; color: white; display: block"&gt;60%  &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #585858; border-radius: 4px; color: white; display: block"&gt;18.84%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #575757; border-radius: 4px; color: white; display: block"&gt;19.01%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #7b7b7b; border-radius: 4px; color: white; display: block"&gt;9.66% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #707070; border-radius: 4px; color: white; display: block"&gt;12.49%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9e9e9e; border-radius: 4px; color: white; display: block"&gt;3.87%&lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;--Soporte           &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #6b6b6b; border-radius: 4px; color: white; display: block"&gt;40%  &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #4f4f4f; border-radius: 4px; color: white; display: block"&gt;21.3% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #818181; border-radius: 4px; color: white; display: block"&gt;8.25% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #909090; border-radius: 4px; color: white; display: block"&gt;4.3%  &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #898989; border-radius: 4px; color: white; display: block"&gt;6.15% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9e9e9e; border-radius: 4px; color: white; display: block"&gt;1.76%&lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;-Comunidad          &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #818181; border-radius: 4px; color: white; display: block"&gt;25%  &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #656565; border-radius: 4px; color: white; display: block"&gt;15.49%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #8f8f8f; border-radius: 4px; color: white; display: block"&gt;4.6%  &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #989898; border-radius: 4px; color: white; display: block"&gt;2.27% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #969696; border-radius: 4px; color: white; display: block"&gt;2.64% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9e9e9e; border-radius: 4px; color: white; display: block"&gt;7.36%&lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;-Material           &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #989898; border-radius: 4px; color: white; display: block"&gt;9.54%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #919191; border-radius: 4px; color: white; display: block"&gt;4.06% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #999999; border-radius: 4px; color: white; display: block"&gt;2.03% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9c9c9c; border-radius: 4px; color: white; display: block"&gt;1.26% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #989898; border-radius: 4px; color: white; display: block"&gt;2.19% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9e9e9e; border-radius: 4px; color: white; display: block"&gt;0.39%&lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &lt;span style="color: grey; font-weight: bold"&gt;-Popularidad        &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9e9e9e; border-radius: 4px; color: white; display: block"&gt;5.46%&lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9a9a9a; border-radius: 4px; color: white; display: block"&gt;1.75% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9a9a9a; border-radius: 4px; color: white; display: block"&gt;1.62% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9e9e9e; border-radius: 4px; color: white; display: block"&gt;0.76% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9b9b9b; border-radius: 4px; color: white; display: block"&gt;1.33% &lt;/span&gt; &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; &lt;span style="background-color: #9e9e9e; border-radius: 4px; color: white; display: block"&gt;2.37%&lt;/span&gt; &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
---

#Ranque: 


```r
ranque(tabela2)
```

```
## # A tibble: 4 x 3
##   Ranque Alternativas Pesos
##    &lt;int&gt; &lt;chr&gt;        &lt;dbl&gt;
## 1      1 R            0.401
## 2      2 Python       0.273
## 3      3 Java         0.186
## 4      4 C++          0.140
```


---

#Planes para el futuro:
--


- Mejorar el rendimiento computacional de las funciones;
- Desarrollar tutorial para las funciones;
- Desarrollar la función de imagen jerárquica;
- Interatividad con shiny.


--



---
class: center, middle

Gracias!!!

e-mail: lucianea@id.uff.br

twitter: @alcoforadouff

---
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
